/* Netflix-style cinematic UI */
:root{
  --bg:#141414;
  --bg2:#0d0d0d;
  --card:#191919;
  --muted:#b3b3b3;
  --text:#f5f5f5;
  --accent:#e50914; /* Netflix red */
  --accent-2:#b20710;
  --border:#262626;
  --glass: rgba(255,255,255,0.04);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  color:var(--text);
  background:radial-gradient(1200px 600px at 20% -10%, #0f0f0f 0, var(--bg) 60%) no-repeat, var(--bg);
  overflow-x:hidden;
}

.bg-veil{
  position:fixed; inset:0;
  background:
    radial-gradient(80vw 40vh at 70% -10%, rgba(229,9,20,0.12), transparent 60%),
    radial-gradient(60vw 30vh at 10% 110%, rgba(255,255,255,0.05), transparent 60%);
  pointer-events:none;
  z-index:-1;
}

.hero{
  position:relative;
  padding:64px 16px 24px;
  background:linear-gradient(180deg, rgba(0,0,0,0.7), rgba(0,0,0,0) 70%);
}
.hero-inner{
  max-width:1080px; margin:0 auto;
}
.hero h1{
  font-size: clamp(28px, 4vw, 48px);
  margin:0 0 6px;
  letter-spacing:0.5px;
}
.hero p{ margin:0; color:var(--muted) }
.chip-row{ margin-top:12px; display:flex; gap:8px; flex-wrap:wrap }
.chip{
  background:linear-gradient(180deg, #222, #161616);
  border:1px solid var(--border);
  padding:6px 10px; border-radius:999px; font-size:12px; color:#ddd;
}

.layout{
  max-width:1080px; margin: 0 auto; padding: 8px 16px 24px;
  display:grid; grid-template-columns: 1.15fr 2fr 1.1fr;
  gap:16px;
}
.panel.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--border); border-radius:16px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
  overflow:hidden;
}
.panel h3{ margin:12px 12px 8px; font-weight:700; letter-spacing:0.3px }
.panel.status{ padding: 8px 12px 16px; }
.kv{ display:grid; grid-template-columns: 1fr auto; gap:8px; padding: 8px 12px; border-top:1px dashed var(--border) }
.kv:first-of-type{ border-top:none }
.progress{ height:12px; margin: 12px; border-radius:999px; background: #0d0d0d; border:1px solid var(--border); overflow:hidden }
#progress-bar{ height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow: 0 0 16px rgba(229,9,20,0.4) inset; transition: width .2s ease; }
.hidden{ display:none }

.controls{ padding: 8px 12px; margin-top:6px; border-top:1px dashed var(--border) }
.controls .toggle{ display:flex; align-items:center; gap:8px; margin: 6px 0; color:#e6e6e6 }
.controls .hint{ font-size:12px; color:var(--muted); margin-top:2px }
.controls .row{ display:flex; align-items:center; justify-content:space-between; margin-top:8px }
.controls input[type="number"]{ width:90px; padding:6px 8px; border-radius:10px; border:1px solid var(--border); background:#0f0f0f; color:var(--text) }

/* Chat */
.panel.chat{ padding:10px; display:flex; flex-direction:column }
.chat-window{
  background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
  border:1px solid var(--border); border-radius:14px; min-height:360px; max-height:580px; overflow:auto; padding:8px;
}
.msg{ padding:10px 12px; margin:10px; border-radius:12px; max-width:85%; line-height:1.35; white-space:pre-wrap; word-wrap:break-word }
.msg.user{ margin-left:auto; background:linear-gradient(180deg, #222, #181818); border:1px solid #2a2a2a }
.msg.bot{ background:linear-gradient(180deg, #1a1a1a, #141414); border:1px solid #272727 }
.msg .meta{ display:block; color:var(--muted); font-size:12px; margin-top:6px }

.composer{ display:flex; gap:8px; margin-top:10px }
input#prompt{
  flex:1; padding:12px 14px; border-radius:12px; border:1px solid var(--border);
  background:#0f0f0f; color:var(--text);
}
button{ border:1px solid var(--border); background:linear-gradient(180deg, #222, #151515); color:var(--text);
  padding:12px 14px; border-radius:12px; cursor:pointer; transition:transform .06s ease, filter .15s ease }
button:hover{ filter:brightness(1.08) }
button:active{ transform:scale(0.99) }
button.ghost{ background:transparent }
button.small{ padding:6px 10px; font-size:12px }

.tips{ margin-top:6px; color:var(--muted) }
.tips code{ background:#0f0f0f; border:1px solid var(--border); padding:2px 6px; border-radius:8px }

/* Context grid like "title cards" */
.panel.ctx{ padding:8px }
.ctx-header{ display:flex; align-items:center; justify-content:space-between; padding:0 6px 6px; border-bottom:1px dashed var(--border) }
.ctx-grid{
  display:grid; grid-template-columns: 1fr; gap:8px; padding:8px 4px 10px;
}
.ctx-card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--border); border-radius:12px; padding:10px 12px;
}
.ctx-card h4{ margin:0 0 2px; font-size:13px; color:#eee; letter-spacing:0.2px }
.ctx-card p{ margin:0; color:#d0d0d0; font-size:13px }

.foot{ text-align:center; color:var(--muted); padding:12px 16px 28px }
.foot .dot{ margin:0 8px; opacity:0.6 }

@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
  .panel.ctx{ order:3 }
}
